<!DOCTYPE html>
<html lang="en"
      xmlns:th="http://www.thymeleaf.org">

<head th:replace="fragments.html :: head"></head>
<nav th:replace="fragments.html :: main-nav"></nav>

<body class="bg-light">
<!-- Page Content -->
<div class="container">

    <br>
    <div class="row justify-content-center">
        <div class="col-xs-10">
            <table class="table table-hover">
                <thead>
                <tr>
                    <th scope="col">주차</th>
                    <th scope="col">강의 명</th>
                    <th scope="col">링크</th>
                </tr>
                </thead>
                <tbody th:each="event: ${studys}">
                <tr>
                    <th scope="row" th:text="${eventStat.count}">1</th>
                    <td th:text="${event.title}">Title</td>
                    <td>
                        <a th:href="@{'/study/' + ${lecture.path} + '/events/' + ${event.id}}"
                           class="card-link" >학습하기</a>
                    </td>
                </tr>
                </tbody>
            </table>
        </div>
        <div class="col-lg-6">
            <h5>
                <a th:href="@{'/lecture/' + ${lecture.path}}">
                    <span th:text="${lecture.subjectTitle}">강의명</span>
                </a>/
                <span th:text="${study.title}"></span>
            </h5>


            <hr>
            <div>
                <span class="h6">강의 등록일 : </span>
<!--                <span th:text="${#calendars.format(study.getStartDateTime())}">Posted on January 1, 2019 at 12:00 PM</span>~-->
                <span class="date-time" th:text="${study.getCreatedDateTime()}">Posted on January 1, 2019 at 12:00 PM</span>
            </div>
            <hr>
<!--            <img class="img-fluid rounded" src="http://placehold.it/1280x720" alt="">-->
            <div class="row px-3 justify-content-center">
                <div class="col-10 pt-3" th:utext="${study.post}"></div>
            </div>
            <hr>
<!--            <dd th:if="${study.isManager(#authentication.principal)}">-->
            <div>
                <a class="btn btn-primary"
                   th:href="@{'/study/' + ${lecture.path} + '/events/' + ${study.id} + '/edit'}">
                    수정
                </a>

            </div>
<p>
            <div>
                <form th:action="@{'/study/' + ${lecture.path} + '/events/' + ${study.id}}" method="post" novalidate>
                    <button class="btn btn-primary" type="submit">삭제</button>
                </form>
            </div>

            <div class="card-footer">
                <form action="#" th:action="@{'/study/' + ${lecture.path} + '/events/' +${study.id} +'/comment'}" method="post">
                    <div class="form-group">
                        <div class="input-group mb-3">
                            <input  type="hidden" name="studyId" th:value="${study.id}" >
                            <input type="hidden" name="studyId">
                            <input class="form-control" placeholder="Add a comment" type="text" name="content" required
                                   minlength="5">

                            <div class="input-group-append">
                                <span class="input-group-addon">
                                  <button type="submit" class="btn btn-outline-secondary">
                                     <a href="#"><i class="fa fa-edit"></i></a>
                                  </button>
                                </span>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
            <div class="card-body">
                <ul class="comments-list" th:each="comment : ${study.comments}">
                    <div class="comment" >
                        <form id="delete-comment-form"  method="post">
                            <input type="hidden" name="_method" value="delete"/>
                            <button class="btn btn-outline-danger pull-right comment-delete-btn">
                                <i class="fa fa-times" aria-hidden="true"></i>
                            </button>
                        </form>

                        <a class="pull-left" href="#">
                            <!-- <img class="avatar" src="http://bootdey.com/img/Content/user_1.jpg" alt="avatar"> -->

<!--                            <svg th:if="${#strings.isEmpty(comment.isWriter()?.profileImage)}" data-jdenticon-value="user127" th:data-jdenticon-value="${comment.isWriter}"-->
<!--                                 class="avatar"></svg>-->
<!--                            <img th:if="${!#strings.isEmpty(comment.isWriter?.profileImage)}" th:src="${comment.writer.profileImage}"-->
<!--                                 class="avatar"  >-->
                        </a>

<!--                        <div class="comment-body">-->
<!--                            <div class="comment-heading">-->
<!--                                <h4 class="user" th:text="${comment.getWriter().getUsername()}"></h4>-->
<!--                                <h5 class="time comment-time" th:text="${comment.createdDate}"></h5>-->
<!--                            </div>-->
<!--                            <p th:text="${comment.content}"></p>-->
<!--                        </div>-->
                        <div class="media mb-4">
                            <img class="d-flex mr-3 rounded-circle" src="http://placehold.it/50x50" alt="">
                            <div class="media-body">
                                <h5 class="mt-0" th:text="${comment.getWriter().getUsername()}" >Commenter Name</h5>
                                <p th:text="${comment.content}"></p>
                            </div>
                        </div>
                        <hr>
                    </div>
                </ul>
            </div>
        </div>





            <!-- Comments Form -->
            <div class="card my-4">
                <h5 class="card-header">강의에 대한 질문을 남겨주세요:</h5>
                <div class="card-body">
                    <form>
                        <div class="form-group">
                            <textarea class="form-control" rows="3"></textarea>
                        </div>
                        <button type="submit" class="btn btn-primary">Submit</button>
                    </form>
                </div>
            </div>

            <!-- Single Comment -->
<!--            <div class="media mb-4">-->
<!--                <img class="d-flex mr-3 rounded-circle" src="http://placehold.it/50x50" alt="">-->
<!--                <div class="media-body">-->
<!--                    <h5 class="mt-0">Commenter Name</h5>-->
<!--                    Cras sit amet nibh libero, in gravida nulla. Nulla vel metus scelerisque ante sollicitudin. Cras-->
<!--                    purus odio, vestibulum in vulputate at, tempus viverra turpis. Fusce condimentum nunc ac nisi-->
<!--                    vulputate fringilla. Donec lacinia congue felis in faucibus.-->
<!--                </div>-->
<!--            </div>-->

<!--            &lt;!&ndash; Comment with nested comments &ndash;&gt;-->
<!--            <div class="media mb-4">-->
<!--                <img class="d-flex mr-3 rounded-circle" src="http://placehold.it/50x50" alt="">-->
<!--                <div class="media-body">-->
<!--                    <h5 class="mt-0">Commenter Name</h5>-->
<!--                    Cras sit amet nibh libero, in gravida nulla. Nulla vel metus scelerisque ante sollicitudin. Cras-->
<!--                    purus odio, vestibulum in vulputate at, tempus viverra turpis. Fusce condimentum nunc ac nisi-->
<!--                    vulputate fringilla. Donec lacinia congue felis in faucibus.-->

<!--                    <div class="media mt-4">-->
<!--                        <img class="d-flex mr-3 rounded-circle" src="http://placehold.it/50x50" alt="">-->
<!--                        <div class="media-body">-->
<!--                            <h5 class="mt-0">Commenter Name</h5>-->
<!--                            Cras sit amet nibh libero, in gravida nulla. Nulla vel metus scelerisque ante sollicitudin.-->
<!--                            Cras purus odio, vestibulum in vulputate at, tempus viverra turpis. Fusce condimentum nunc-->
<!--                            ac nisi vulputate fringilla. Donec lacinia congue felis in faucibus.-->
<!--                        </div>-->
<!--                    </div>-->

<!--                    <div class="media mt-4">-->
<!--                        <img class="d-flex mr-3 rounded-circle" src="http://placehold.it/50x50" alt="">-->
<!--                        <div class="media-body">-->
<!--                            <h5 class="mt-0">Commenter Name</h5>-->
<!--                            Cras sit amet nibh libero, in gravida nulla. Nulla vel metus scelerisque ante sollicitudin.-->
<!--                            Cras purus odio, vestibulum in vulputate at, tempus viverra turpis. Fusce condimentum nunc-->
<!--                            ac nisi vulputate fringilla. Donec lacinia congue felis in faucibus.-->
<!--                        </div>-->
<!--                    </div>-->

<!--                </div>-->
<!--            </div>-->

        </div>
    </div>

</div>
<div th:replace="fragments.html :: date-time"></div>
<div th:replace="fragments.html :: footer"></div>
</body>
</html>
